<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Quickstart | Revel - A Web Application Framework for Go!</title>
<link rel="icon" href="/pages-revel/img/favicon.ico" type="image/x-icon" /> 
<link rel="shortcut icon" href="/pages-revel/img/favicon.png" type="image/png" />

<link href="/pages-revel/js/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
<link href="/pages-revel/js/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/pages-revel/css/jekyll-github.css" rel="stylesheet">

<script src="/pages-revel/js/jquery-2.1.3.min.js"></script>
<script src="/pages-revel/js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>


<link href="/pages-revel/css/revel.17.css" rel="stylesheet">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35042202-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    <link href="/pages-revel/css/manual.css" type="text/css" rel="stylesheet" />
    <link href="/pages-revel/css/prettify.css" type="text/css" rel="stylesheet" />
    <script src="/pages-revel/js/prettify.js" type="text/javascript"></script>
    <script src="/pages-revel/js/lang-go-rich.js" type="text/javascript"></script>
		<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35042202-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>

  <body onload="prettyPrint()">

    

    
<nav class="navbar navbar-inverse ">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div id="main-logo"><a ddclass="navbar-brand" href="/pages-revel/">Revel</a>
            </div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                                
                <li >
                    <a href="/pages-revel/tutorial/index.html"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> Tutorial</a></li>
                
                <li >
                    <a href="/pages-revel/manual/index.html"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Manual</a></li>
                    
                <li >
                    <a href="/pages-revel/modules/index.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Modules</a></li>
                    
                    
                <li >
                    <a href="/pages-revel/examples/index.html"><span class="glyphicon glyphicon-sound-stereo" aria-hidden="true"></span> Examples</a></li>
                
                <li >
                    <a href="/pages-revel/quickref/index.html"><span class="glyphicon glyphicon-screenshot" aria-hidden="true"></span> Quick Ref</a></li>
                    
                    
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Project <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://github.com/revel/" target="github"><span class="glyphicon glyphicon-object-align-horizontal" aria-hidden="true"></span> Revel project @ github</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Revel</li>
                            <li><a href="https://godoc.org/github.com/revel/revel" target="godoc"><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span> godoc</a></li>
                            <li><a href="https://github.com/revel/revel" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/revel/revel/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Revel command</li>
                            <li><a href="https://github.com/revel/cmd" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/revel/cmd/issues" target="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Modules</li>
                        <li><a href="https://github.com/revel/modules" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Example Apps</li>
                        <li><a href="https://github.com/revel/examples" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">revel.github.io</li>
                        <li><a href="https://github.com/revel/revel.github.io" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li><a href="https://github.com/revel/revel.github.io/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Support <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://gitter.im/revel/community" target="_blank">Chat on gitter.im</a></li>
                        <li><a href="http://stackoverflow.com/questions/tagged/revel" target="_blank">Revel at StackOverflow</a></li>
                    </ul>
                <li>
                 
            </ul>
        </div>
    </div>
</nav>


    <div class="container">
      <div class="row">
        <div class="span2">
          

<ul>

</ul>
        </div>

        <div class="span10">
          <div class="page-header">
            <h1>Quickstart</h1>
            <a href="https://github.com/revel/revel.github.io/edit/master/quickstart/controller/input/parameters/index.md" class="improve-page btn btn-info" target="_blank">Improve this page</a>
          </div>
          <p>Revel tries to make the conversion of parameters into their desired Go types as
easy as possible.  This conversion from string to another type is referred to as
“data binding”.</p>

<h2 id="params">Params</h2>

<p>All request parameters are collected into a single <code class="highlighter-rouge">Params</code> object.  That includes:</p>

<ul>
  <li>URL Path parameters</li>
  <li>URL Query parameters</li>
  <li>Form values (Multipart or not)</li>
  <li>File uploads</li>
</ul>

<p>This is the definition (<a href="../docs/godoc/params.html">godoc</a>):</p>

<pre class="prettyprint lang-go">
type Params struct {
	url.Values
	Files map[string][]*multipart.FileHeader
}
</pre>

<p>The embedded <code class="highlighter-rouge">url.Values</code> (<a href="http://www.golang.org/pkg/net/url/#Values">godoc</a>)
does provide accessors for simple values, but developers will find it easier to
use Revel’s data-binding mechanisms for any non-string values.</p>

<h2 id="method-arguments">Method arguments</h2>

<p>Parameters may be accepted directly as method arguments by the method.  For
example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="p">(</span><span class="n">c</span><span class="x"> </span><span class="n">AppController</span><span class="p">)</span><span class="x"> </span><span class="n">Method</span><span class="p">(</span><span class="n">name</span><span class="x"> </span><span class="kt">string</span><span class="p">,</span><span class="x"> </span><span class="n">ids</span><span class="x"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">,</span><span class="x"> </span><span class="n">user</span><span class="x"> </span><span class="n">User</span><span class="p">,</span><span class="x"> </span><span class="n">img</span><span class="x"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">)</span><span class="x"> </span><span class="n">revel</span><span class="o">.</span><span class="n">Result</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="o">...</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>Before invoking the method, Revel asks its Binder to convert parameters of those
names to the requested data type.  If the binding is unsuccessful for any
reason, the parameter will have the zero value for its type.</p>

<h2 id="binder">Binder</h2>

<p>To bind a parameter to a data type, use Revel’s Binder
(<a href="../docs/godoc/binder.html">godoc</a>).  It is integrated with the Params object
as the following example shows:</p>

<pre class="prettyprint lang-go">
func (c SomeController) Method() revel.Result {
	var ids []int
	c.Params.Bind(&amp;ids, "ids")
	...
}
</pre>

<p>The following data types are supported out of the box:</p>

<ul>
  <li>Ints of all widths</li>
  <li>Bools</li>
  <li>Pointers to any supported type</li>
  <li>Slices of any supported type</li>
  <li>Structs</li>
  <li>time.Time for dates and times</li>
  <li>*os.File, []byte, io.Reader, io.ReadSeeker for file uploads</li>
</ul>

<p>The following sections describe the syntax for these types.  It is also useful
to refer to <a href="../docs/src/binder.html">the source code</a> if more detail is required.</p>

<h3 id="booleans">Booleans</h3>

<p>The string values “true”, “on”, and “1” are all treated as <strong>true</strong>.  Else, the
bound value will be <strong>false</strong>.</p>

<h3 id="slices">Slices</h3>

<p>There are two supported syntaxes for binding slices: ordered or unordered.</p>

<p>Ordered:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?ids[0]=1
&amp;ids[1]=2
&amp;ids[3]=4
</code></pre></div></div>

<p>Results in the slice <code class="highlighter-rouge">[]int{1, 2, 0, 4}</code></p>

<p>Unordered:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?ids[]=1
&amp;ids[]=2
&amp;ids[]=3
</code></pre></div></div>

<p>results in the slice <code class="highlighter-rouge">[]int{1, 2, 3}</code></p>

<p><strong>Note:</strong> Only ordered slices should be used when binding a slice of structs:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?user[0].Id=1
&amp;user[0].Name=rob
&amp;user[1].Id=2
&amp;user[1].Name=jenny
</code></pre></div></div>

<h3 id="structs">Structs</h3>

<p>Structs are bound using a simple dot notation:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>?user.Id=1
&amp;user.Name=rob
&amp;user.Friends[]=2
&amp;user.Friends[]=3
&amp;user.Father.Id=5
&amp;user.Father.Name=Hermes
</code></pre></div></div>

<p>would bind a structure defined as:</p>

<pre class="prettyprint lang-go">
type User struct {
	Id int
	Name string
	Friends []int
	Father User
}
</pre>

<p><strong>Note:</strong> Properties must be exported in order to be bound.</p>

<h3 id="date--time">Date / Time</h3>

<p>The SQL standard time formats [“2006-01-02”, “2006-01-02 15:04”] are built in.</p>

<p>More may be added by the application, using
<a href="http://golang.org/pkg/time/#pkg-constants">the official pattern</a>.  Simply add
the pattern to recognize to the <code class="highlighter-rouge">TimeFormats</code> variable, like this:</p>

<pre class="prettyprint lang-go">
func init() {
	revel.TimeFormats = append(revel.TimeFormats, "01/02/2006")
}
</pre>

<h3 id="file-uploads">File Uploads</h3>

<p>File uploads may be bound to any of the following types:</p>

<ul>
  <li>*os.File</li>
  <li>[]byte</li>
  <li>io.Reader</li>
  <li>io.ReadSeeker</li>
</ul>

<p>This is a wrapper around the upload handling provided by
<a href="http://golang.org/pkg/mime/multipart/">Go’s multipart package</a>.  The bytes
stay in memory unless they exceed a threshold (10MB by default), in which case
they are written to a temp file.</p>

<p><strong>Note:</strong> Binding a file upload to <code class="highlighter-rouge">os.File</code> requires Revel to write it to a
temp file (if it wasn’t already), making it less efficient than the other types.</p>

<h3 id="custom-binders">Custom Binders</h3>

<p>The application may define its own binders to take advantage of this framework.</p>

<p>It need only implement the <a href="../docs/godoc/binder.html#Binder">binder interface</a> and register the type for which it
should be called:</p>

<pre class="prettyprint lang-go">
var myBinder = revel.Binder{
	Bind: func(params *revel.Params, name string, typ reflect.Type) reflect.Value {...},
	Unbind: func(output map[string]string, name string, val interface{}) {...},
}

func init() {
	revel.TypeBinders[reflect.TypeOf(MyType{})] = myBinder
}
</pre>

        </div>
      </div>
    </div>
  </body>
</html>
