<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Messages | Revel - A Web Application Framework for Go!</title>
<link rel="icon" href="/img/favicon.ico" type="image/x-icon" /> 
<link rel="shortcut icon" href="/img/favicon.png" type="image/png" />

<link href="/pages-revel/js/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
<link href="/pages-revel/js/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/pages-revel/css/jekyll-github.css" rel="stylesheet">

<script src="/pages-revel/js/jquery-2.1.3.min.js"></script>
<script src="/pages-revel/js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>


<link href="/pages-revel/css/revel.17.css" rel="stylesheet">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35042202-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


</head>

<body>
    
    

    
<nav class="navbar navbar-inverse ">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div id="main-logo"><a ddclass="navbar-brand" href="/">Revel</a>
            </div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                                
                <li >
                    <a href="/pages-revel/tutorial/index.html"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> Tutorial</a></li>
                
                <li class="active">
                    <a href="/pages-revel/manual/index.html"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Manual</a></li>
                    
                <li >
                    <a href="/pages-revel/modules/index.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Modules</a></li>
                    
                    
                <li >
                    <a href="/pages-revel/examples/index.html"><span class="glyphicon glyphicon-sound-stereo" aria-hidden="true"></span> Examples</a></li>
                
                <li >
                    <a href="/pages-revel/quickref/index.html"><span class="glyphicon glyphicon-screenshot" aria-hidden="true"></span> Quick Ref</a></li>
                    
                    
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Project <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://github.com/revel/" target="github"><span class="glyphicon glyphicon-object-align-horizontal" aria-hidden="true"></span> Revel project @ github</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Revel</li>
                            <li><a href="https://godoc.org/github.com/revel/revel" target="godoc"><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span> godoc</a></li>
                            <li><a href="https://github.com/revel/revel" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/revel/revel/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Revel command</li>
                            <li><a href="https://github.com/revel/cmd" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/revel/cmd/issues" target="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Modules</li>
                        <li><a href="https://github.com/revel/modules" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Example Apps</li>
                        <li><a href="https://github.com/revel/examples" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">revel.github.io</li>
                        <li><a href="https://github.com/revel/revel.github.io" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li><a href="https://github.com/revel/revel.github.io/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Support <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://gitter.im/revel/community" target="_blank">Chat on gitter.im</a></li>
                        <li><a href="http://stackoverflow.com/questions/tagged/revel" target="_blank">Revel at StackOverflow</a></li>
                    </ul>
                <li>
                 
            </ul>
        </div>
    </div>
</nav>


    <div class="container revel-manual">
        <div class="row">
            <div class="col-md-3">
                <div class="leftnav">
    <ul class="nav">
        
            <li class="nav-header">Overview</li>
            
                
                
                    <li><a href="index.html">Introduction</a></li>
                
            
                
                
                    <li><a href="concepts.html">Concepts</a></li>
                
            
                
                
                    <li><a href="organization.html">Code Organization</a></li>
                
            
        
            <li class="nav-header">Controllers</li>
            
                
                
                    <li><a href="controllers.html">Controllers Overview</a></li>
                
            
                
                
                    <li><a href="routing.html">URL Routing</a></li>
                
            
                
                
                    <li><a href="/modules/static.html">Static Content</a></li>
                
            
                
                
                    <li><a href="parameters.html">Request Parameters & JSON</a></li>
                
            
                
                
                    <li><a href="validation.html">Validation</a></li>
                
            
                
                
                    <li><a href="sessionflash.html">Session & Flash</a></li>
                
            
                
                
                    <li><a href="results.html">Results & Response</a></li>
                
            
                
                
                    <li><a href="templates.html">Templates</a></li>
                
            
                
                
                    <li><a href="template-engine.html">Template Engine</a></li>
                
            
                
                
                    <li><a href="templates-go.html">Go Template Engine</a></li>
                
            
                
                
                    <li><a href="server-engine.html">Server Engine</a></li>
                
            
                
                
                    <li><a href="interceptors.html">Interceptors</a></li>
                
            
                
                
                    <li><a href="filters.html">Filters</a></li>
                
            
                
                
                    <li><a href="websockets.html">Websockets</a></li>
                
            
                
                
                    <li class="active"><a href="i18n-messages.html">Internationalization</a></li>
                
            
                
                
                    <li><a href="cache.html">Cache</a></li>
                
            
                
                
                    <li><a href="database.html">Database</a></li>
                
            
                
                
                    <li><a href="debug.html">Debugging</a></li>
                
            
                
                
                    <li><a href="/modules/testing.html">Testing</a></li>
                
            
        
            <li class="nav-header">Operational</li>
            
                
                
                    <li><a href="versions.html">Versions</a></li>
                
            
                
                
                    <li><a href="logging.html">Logging</a></li>
                
            
                
                
                    <li><a href="deployment.html">Deployment</a></li>
                
            
        
            <li class="nav-header">Reference</li>
            
                
                
                    <li><a href="appconf.html">app.conf</a></li>
                
            
                
                
                    <li><a href="tool.html">revel cmd</a></li>
                
            
                
                
                    <li><a href="faq.html">FAQ</a></li>
                
            
        
    </ul>
</div>

            </div>

            <div class="col-md-9">
                <div class="page-header">
                    <a href="https://github.com/revel/revel.github.io/edit/master/manual/i18n-messages.md" class="improve-page btn dbtn-info" target="_blank"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Improve Page</a>
                    <h1>Messages</h1>
                </div>
                <div class="main">
                    <p><strong>Messages</strong> are used to externalize pieces of text in order to be able to provide translations for them. Revel
supports message files organized per language, automatic locale look-up, cookie-based overrides and message 
nesting and arguments.</p>

<h4 id="glossary">Glossary</h4>

<ul>
  <li><strong>Locale</strong>: a combination of <em>language</em> and <em>region</em> that indicates a user language preference, eg. <code class="highlighter-rouge">en-US</code>.</li>
  <li><strong>Language</strong>: the language part of a locale, eg. <code class="highlighter-rouge">en</code>. Language identifiers are expected to be <a href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 codes</a>.</li>
  <li><strong>Region</strong>: the region part of a locale, eg. <code class="highlighter-rouge">US</code>. Region identifiers are expected to be <a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 codes</a>.</li>
</ul>

<h2 id="implementation-methods">Implementation Methods</h2>
<p>Revel allows you to implement internalization at template, or as embedded messages.</p>

<p>Templates when loading will automatically look for a region specific template first</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>app/
    views/
        Index/App.html.en
        Index/App.html.fr
        ...
</code></pre></div></div>

<p>You can also include templates that will check for regions automatically using
the <a href="templates.html#url">i18ntemplate</a>. This tag acts like a traditional template tag
except that it will automatically choose the region based on the ViewArgs passed in.
(optionally the region may be specified as the third argument)
It can be used on a page like</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>
  Embedded Regional Template Example 
  {{i18ntemplate "templateName" .}}
<span class="nt">&lt;/p&gt;</span>

</code></pre></div></div>

<h2 id="example-application">Example Application</h2>

<p>The way Revel handles message files and internationalization in general is similar to most other web frameworks out there. For those of you that wish to get
started straight away without going through the specifics, there is a sample application 
<a href="https://github.com/revel/examples/tree/master/i18n"><code class="highlighter-rouge">examples/i18n</code></a> which demonstrates the basics.</p>

<h2 id="configuration">Configuration</h2>

<table class="table table-striped">
    <thead>
        <tr>
            <th style="width: 15%">File</th>
            <th style="width: 25%">Option</th>
            <th style="width: 60%">Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <code>app.conf</code>
            </td>
            <td>
                <code><a href="appconf.html#i18ncookie">i18n.cookie</a></code>
            </td>
            <td>
                The name of the language cookie. Should always be prefixed with the Revel cookie prefix to avoid cookie name conflicts.
            </td>
        </tr>
        <tr>
            <td>
                <code>app.conf</code>
            </td>
            <td>
                <code><a href="appconf.html#i18ndefault_language">i18n.default_language</a></code>
            </td>
            <td>
                The default locale to use in case no preferred locale could be found.
            </td>
        </tr>
        <tr>
            <td>
                <code>app.conf</code>
            </td>
            <td>
                <code><a href="appconf.html#i18nlocaleparameter">i18n.locale.parameter</a></code>
            </td>
            <td>
                The name of the parameter to use for switching the current language of the application.
		The parameter value is checked before other methods to resolve the client locale.
            </td>
        </tr>
    </tbody>
</table>

<h2 id="message-files">Message Files</h2>

<p>Messages are defined in message files. These files contain the actual text that will be used while rendering the view (or elsewhere in your application if you so desire). 
When creating new message files, there are a couple of rules to keep in mind:</p>

<ul>
  <li>All message files should be stored in the <code class="highlighter-rouge">messages/</code> directory in the application root.</li>
  <li>The file extension determines the <em>language</em> of the message file and should be an <a href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 code</a>.</li>
  <li>Message files should be UTF-8 encoded. While this is not a hard requirement, it is best practice.</li>
  <li>Each message file is effectively a <a href="https://github.com/revel/config">goconfig file</a> and supports all goconfig features.</li>
</ul>

<h3 id="organizing-message-files">Organizing Message Files</h3>

<p>There are no restrictions on message file names; a message file name can be anything as long as it has a valid extention. There is also no restriction on the <em>amount</em>
of files per language. When the application starts, Revel will parse all message files with a valid extension in the <code class="highlighter-rouge">messages/</code> directory and merge them according to their 
language. This means that you are free to organize the message files however you want.</p>

<ul>
  <li>Refer to <a href="organization.html">organization</a> for the directory layout</li>
</ul>

<p>For example, you may want to take a traditional approach and define one single message file per language:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>messages/
    messages.en
    messages.fr
    ...
</code></pre></div></div>

<p>Another approach would be to create <em>multiple files</em> for the <em>same language</em> and organize them based on the kind of messages they contain:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>messages/
    labels.en
    warnings.en
    labels.fr
    warnings.fr
    ...
</code></pre></div></div>

<div class="alert alert-block"><strong>Important note:</strong> while it's technically possible to define the same <em>message key</em> in multiple files with the same language, this will result in unpredictable behaviour. When using multiple files per language, take care to keep your message keys unique so that keys will not be overwritten after the files are merged!</div>

<h3 id="message-keys-and-values">Message keys and values</h3>

<p>A message file is for all intents and purposes a <a href="https://github.com/revel/goconfig">goconfig file</a>. This means that messages should be defined according to the tried and
tested key-value format:</p>

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="py">key</span><span class="p">=</span><span class="s">value</span></code></pre></figure>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="py">greeting</span><span class="p">=</span><span class="s">Hello </span>
<span class="py">greeting.name</span><span class="p">=</span><span class="s">Rob</span>
<span class="py">greeting.suffix</span><span class="p">=</span><span class="s">, welcome to Revel!</span></code></pre></figure>

<h3 id="sections">Sections</h3>

<p>A goconfig file is separated into <em>sections</em>. The <em>default section</em> always exists and contains any messages that are not defined in a specific section. For example:</p>

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="py">key</span><span class="p">=</span><span class="s">value</span>

<span class="nn">[SECTION]</span>
<span class="py">key2</span><span class="p">=</span><span class="s">value2</span></code></pre></figure>

<p>The <code class="highlighter-rouge">key=value</code> message is implicitly put in the default section as it was not defined under another specific section.</p>

<p>For message files all messages should be defined in the <em>default section</em> unless they are specific to a certain region (see 
<a href="#regions">Regions</a> for more information).</p>

<div class="alert alert-info"><strong>Note:</strong> sections are a <em>goconfig</em> feature.</div>

<h3 id="regions">Regions</h3>

<p>Region-specific messages should be defined in sections with the same name. For example, suppose that we want to greet all English speaking users with <code class="highlighter-rouge">"Hello"</code>, all British
users with <code class="highlighter-rouge">"Hey"</code> and all American users with <code class="highlighter-rouge">"Howdy"</code>. In order to accomplish this, we could define the following message file <code class="highlighter-rouge">greeting.en</code>:</p>

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="py">greeting</span><span class="p">=</span><span class="s">Hello</span>

<span class="nn">[GB]</span>
<span class="py">greeting</span><span class="p">=</span><span class="s">Hey</span>

<span class="nn">[US]</span>
<span class="py">greeting</span><span class="p">=</span><span class="s">Howdy</span></code></pre></figure>

<p>For users who have defined English (<code class="highlighter-rouge">en</code>) as their preferred language, Revel would resolve <code class="highlighter-rouge">greeting</code> to <code class="highlighter-rouge">Hello</code>. Only in specific cases where the userâ€™s locale has been
explicitly defined as <code class="highlighter-rouge">en-GB</code> or <code class="highlighter-rouge">en-US</code> would the <code class="highlighter-rouge">greeting</code> message be resolved using the specific sections.</p>

<div class="alert alert-danger"><strong>Important:</strong> messages defined under a [section] that is not a valid region are technically allowed but ultimately useless as they will never be resolved.</div>

<h3 id="referencing-and-arguments">Referencing and arguments</h3>

<h4 id="referencing">Referencing</h4>

<p>Messages in message files can reference other messages. This allows users to compose a single message from one or more other messages. The syntax for referencing other messages 
is <code class="highlighter-rouge">%(key)s</code>. For example:</p>

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="py">greeting</span><span class="p">=</span><span class="s">Hello </span>
<span class="py">greeting.name</span><span class="p">=</span><span class="s">Rob</span>
<span class="py">greeting.suffix</span><span class="p">=</span><span class="s">, welcome to Revel!</span>
<span class="py">greeting.full</span><span class="p">=</span><span class="s">%(greeting)s %(greeting.name)s%(greeting.suffix)s</span></code></pre></figure>

<div class="alert alert-info"> 
<p><strong>Notes:</strong></p>
<ul>
    <li>Referencing is a <em>goconfig</em> feature.</li>
    <li>Because message files are merged, it's perfectly possible to reference messages in other files provided they are defined for the same language.</li>
</ul>
</div>

<h4 id="arguments">Arguments</h4>

<p>Messages support one or more arguments. Arguments in messages are resolved using the same rules as the go <code class="highlighter-rouge">fmt</code> package. For example:</p>

<figure class="highlight"><pre><code class="language-ini" data-lang="ini"><span class="py">greeting.name_arg</span><span class="p">=</span><span class="s">Hello %s!</span></code></pre></figure>

<p>Arguments are resolved in the same order as they are given, see <a href="#resolving_messages">Resolving messages</a>.</p>

<h2 id="resolving-the-client-locale">Resolving the client locale</h2>

<p>In order to figure out which locale the user prefers Revel will look for a usable locale in the following places:</p>

<ol>
  <li>
    <p>Language Parameter value</p>

    <ul>
      <li>If in <code class="highlighter-rouge">app.conf</code> the value for <code class="highlighter-rouge">i18n.locale.parameter</code> is set, 
this will be the first method to resolve the client language preference. e.g. <code class="highlighter-rouge">i18n.locale.parameter=lang</code>.</li>
      <li>If this parameter has a value, its value is assumed to be the current locale.</li>
      <li>All other resolution methods will be skipped when a language parameter value has been found.</li>
    </ul>
  </li>
  <li>
    <p>Language cookie</p>

    <ul>
      <li>For every request, Revel will look for a cookie with the name defined in the application configuration <a href="appconf.html#i18ncookie"><code class="highlighter-rouge">i18n.cookie</code></a>.</li>
      <li>If such a cookie is found, its value is assumed to be the current locale.</li>
      <li>All other resolution methods will be skipped when a cookie has been found.</li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">Accept-Language</code> HTTP header</p>

    <ul>
      <li>Revel will automatically parse the <code class="highlighter-rouge">Accept-Language</code> HTTP header for each incoming request.</li>
      <li>Each of the locales in the <code class="highlighter-rouge">Accept-Language</code> header value is evaluated and stored in order of qualification according to the 
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">HTTP specification</a> - in the current <code class="highlighter-rouge">Request</code> instance.</li>
      <li>This information is used later by the various message resolving functions to determine the current locale.</li>
      <li>For more information see <a href="#parsed_acceptlanguage_http_header">Parsed Accept-Language HTTP header</a>.</li>
    </ul>
  </li>
  <li>
    <p>Default language</p>

    <ul>
      <li>When all of the look-up methods above have returned no usable client locale, Revel will use the <a href="appconf.html#i18ndefault_language"><code class="highlighter-rouge">i18n.default_language</code></a> as 
defined in the <a href="appconf.html"><code class="highlighter-rouge">conf/app.conf</code></a> file.</li>
    </ul>
  </li>
</ol>

<p><strong>Note:</strong> When the requested message could not be resolved at all, a specially formatted string containing the original message is returned.</p>

<div class="alert alert-info"><strong>Note:</strong> the <code>Accept-Language</code> header is <strong>always</strong> parsed and stored in the current <code>Request</code>, even when a language cookie has been found. In such a case, the values from the header are simply never used by the message resolution functions, but they're still available to the application in case it needs them.</div>

<h3 id="retrieving-the-current-locale">Retrieving the current locale</h3>

<p>The application code can access the current locale from within a <code class="highlighter-rouge">Request</code> using the <code class="highlighter-rouge">Request.Locale</code> property. For example:</p>

<figure class="highlight"><pre><code class="language-go" data-lang="go"><span class="k">func</span><span class="x"> </span><span class="p">(</span><span class="n">c</span><span class="x"> </span><span class="n">App</span><span class="p">)</span><span class="x"> </span><span class="n">Index</span><span class="p">()</span><span class="x"> </span><span class="n">revel</span><span class="o">.</span><span class="n">Result</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="n">currentLocale</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">c</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">Locale</span><span class="x">
	</span><span class="n">c</span><span class="o">.</span><span class="n">Render</span><span class="p">(</span><span class="n">currentLocale</span><span class="p">)</span><span class="x">
</span><span class="p">}</span></code></pre></figure>

<p>From a <a href="templates.html">template</a>, the current locale can be retrieved from the <code class="highlighter-rouge">currentLocale</code> property of <code class="highlighter-rouge">viewArgs</code>. For example:</p>

<figure class="highlight"><pre><code class="language-htmldjango" data-lang="htmldjango">    &lt;p&gt;My Locale is: {{.currentLocale}}&lt;/p&gt;</code></pre></figure>

<h3 id="parsed-accept-language-http-header">Parsed Accept-Language HTTP header</h3>

<p>In case the application needs access to the <code class="highlighter-rouge">Accept-Language</code> HTTP header for the current request it can retrieve it from the <code class="highlighter-rouge">Request</code> instance of the <code class="highlighter-rouge">Controller</code>. The <code class="highlighter-rouge">AcceptLanguages</code> field</p>
<ul>
  <li>which is a slice of <code class="highlighter-rouge">AcceptLanguage</code> instances - contains all parsed values from the respective header, sorted per qualification with the most qualified values first in the slice. For example:</li>
</ul>

<figure class="highlight"><pre><code class="language-go" data-lang="go"><span class="k">func</span><span class="x"> </span><span class="p">(</span><span class="n">c</span><span class="x"> </span><span class="n">App</span><span class="p">)</span><span class="x"> </span><span class="n">Index</span><span class="p">()</span><span class="x"> </span><span class="n">revel</span><span class="o">.</span><span class="n">Result</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="c">// Get the string representation of all parsed accept languages</span><span class="x">
    </span><span class="n">c</span><span class="o">.</span><span class="n">ViewArgs</span><span class="p">[</span><span class="s">"acceptLanguageHeaderParsed"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">c</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">AcceptLanguages</span><span class="o">.</span><span class="n">String</span><span class="p">()</span><span class="x">
    </span><span class="c">// Returns the most qualified AcceptLanguage instance</span><span class="x">
    </span><span class="n">c</span><span class="o">.</span><span class="n">ViewArgs</span><span class="p">[</span><span class="s">"acceptLanguageHeaderMostQualified"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">c</span><span class="o">.</span><span class="n">Request</span><span class="o">.</span><span class="n">AcceptLanguages</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="x">

    </span><span class="n">c</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span><span class="x">
</span><span class="p">}</span></code></pre></figure>

<p>For more information see the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">HTTP specification</a>.</p>

<h2 id="resolving-messages">Resolving messages</h2>

<p>Messages can be resolved from either a <em>controller</em> or a <em>view template</em>.</p>

<h3 id="controller">Controller</h3>

<p>Each controller has a <code class="highlighter-rouge">Message(message string, args ...interface{})</code> function that can be used to resolve messages using the current locale. For example:</p>

<figure class="highlight"><pre><code class="language-go" data-lang="go"><span class="k">func</span><span class="x"> </span><span class="p">(</span><span class="n">c</span><span class="x"> </span><span class="n">App</span><span class="p">)</span><span class="x"> </span><span class="n">Index</span><span class="p">()</span><span class="x"> </span><span class="n">revel</span><span class="o">.</span><span class="n">Result</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="n">c</span><span class="o">.</span><span class="n">ViewArgs</span><span class="p">[</span><span class="s">"controllerGreeting"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">c</span><span class="o">.</span><span class="n">Message</span><span class="p">(</span><span class="s">"greeting"</span><span class="p">)</span><span class="x">
	</span><span class="n">c</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span><span class="x">
</span><span class="p">}</span></code></pre></figure>

<p><a name="template"></a></p>

<h3 id="template">Template</h3>

<p>To resolve messages using the current locale from <a href="templates.html">templates</a> there is a <em>template function</em> <code class="highlighter-rouge">msg</code> that you can use. For example:</p>

<figure class="highlight"><pre><code class="language-htmldjango" data-lang="htmldjango">&lt;p&gt;Greetings without arguments: {{msg . "greeting"}}&lt;/p&gt;
&lt;p&gt;Greetings: {{msg . "greeting.full.name" "Tommy Lee Jones"}}&lt;/p&gt;</code></pre></figure>

<div class="alert alert-info"><p><strong>Notes:</strong></p>
    <ul>
        <li>The signature of the <code>msg</code> function is <code>msg . "message name" "argument" "argument"</code>. If there are no arguments, simply do not include any.</li>
        <li>The <em>I18nFilter</em> filter must be enabled (default) or the <code>currentLocale</code> RenderArg set for message substitution to work.</li>
    </ul>
</div>

<h3 id="locale-by-url">Locale by URL</h3>
<p>Adds ability to specify a parameter to be used to set the locale.</p>

<p>In revel app.conf set the <code class="highlighter-rouge">i18n.locale.parameter</code> to the parameter name.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>i18n.locale.parameter=locale
</code></pre></div></div>

<p>In routes specify the route path with the locale</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET  /hotels/:locale       Hotels.Index
</code></pre></div></div>

                    


                    


                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; Revel Team 2017 - Revel is released under the <a href="https://github.com/revel/revel/blob/master/LICENSE">MIT License</a></p>
        </footer>
    </div>
</body>
</html>

