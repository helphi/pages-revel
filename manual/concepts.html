<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Concepts | Revel - A Web Application Framework for Go!</title>
<link rel="icon" href="/img/favicon.ico" type="image/x-icon" /> 
<link rel="shortcut icon" href="/img/favicon.png" type="image/png" />

<link href="/js/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
<link href="/js/bootstrap-3.3.7-dist/css/bootstrap-theme.min.css" rel="stylesheet">
<link href="/css/jekyll-github.css" rel="stylesheet">

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="/js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>


<link href="/css/revel.17.css" rel="stylesheet">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35042202-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


</head>

<body>
    
    

    
<nav class="navbar navbar-inverse ">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div id="main-logo"><a ddclass="navbar-brand" href="/">Revel</a>
            </div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                                
                <li >
                    <a href="/tutorial/index.html"><span class="glyphicon glyphicon-education" aria-hidden="true"></span> Tutorial</a></li>
                
                <li class="active">
                    <a href="/manual/index.html"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Manual</a></li>
                    
                <li >
                    <a href="/modules/index.html"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Modules</a></li>
                    
                    
                <li >
                    <a href="/examples/index.html"><span class="glyphicon glyphicon-sound-stereo" aria-hidden="true"></span> Examples</a></li>
                
                <li >
                    <a href="/quickref/index.html"><span class="glyphicon glyphicon-screenshot" aria-hidden="true"></span> Quick Ref</a></li>
                    
                    
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Project <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://github.com/revel/" target="github"><span class="glyphicon glyphicon-object-align-horizontal" aria-hidden="true"></span> Revel project @ github</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Revel</li>
                            <li><a href="https://godoc.org/github.com/revel/revel" target="godoc"><span class="glyphicon glyphicon-hand-right" aria-hidden="true"></span> godoc</a></li>
                            <li><a href="https://github.com/revel/revel" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/revel/revel/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Revel command</li>
                            <li><a href="https://github.com/revel/cmd" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                            <li><a href="https://github.com/revel/cmd/issues" target="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Modules</li>
                        <li><a href="https://github.com/revel/modules" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">Example Apps</li>
                        <li><a href="https://github.com/revel/examples" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">revel.github.io</li>
                        <li><a href="https://github.com/revel/revel.github.io" target="github"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Source code</a></li>
                        <li><a href="https://github.com/revel/revel.github.io/issues" starget="github"><span class="glyphicon glyphicon-th-list" aria-hidden="true"></span> Issues</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Support <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="https://gitter.im/revel/community" target="_blank">Chat on gitter.im</a></li>
                        <li><a href="http://stackoverflow.com/questions/tagged/revel" target="_blank">Revel at StackOverflow</a></li>
                    </ul>
                <li>
                 
            </ul>
        </div>
    </div>
</nav>


    <div class="container revel-manual">
        <div class="row">
            <div class="col-md-3">
                <div class="leftnav">
    <ul class="nav">
        
            <li class="nav-header">Overview</li>
            
                
                
                    <li><a href="index.html">Introduction</a></li>
                
            
                
                
                    <li class="active"><a href="concepts.html">Concepts</a></li>
                
            
                
                
                    <li><a href="organization.html">Code Organization</a></li>
                
            
        
            <li class="nav-header">Controllers</li>
            
                
                
                    <li><a href="controllers.html">Controllers Overview</a></li>
                
            
                
                
                    <li><a href="routing.html">URL Routing</a></li>
                
            
                
                
                    <li><a href="/modules/static.html">Static Content</a></li>
                
            
                
                
                    <li><a href="parameters.html">Request Parameters & JSON</a></li>
                
            
                
                
                    <li><a href="validation.html">Validation</a></li>
                
            
                
                
                    <li><a href="sessionflash.html">Session & Flash</a></li>
                
            
                
                
                    <li><a href="results.html">Results & Response</a></li>
                
            
                
                
                    <li><a href="templates.html">Templates</a></li>
                
            
                
                
                    <li><a href="template-engine.html">Template Engine</a></li>
                
            
                
                
                    <li><a href="templates-go.html">Go Template Engine</a></li>
                
            
                
                
                    <li><a href="server-engine.html">Server Engine</a></li>
                
            
                
                
                    <li><a href="interceptors.html">Interceptors</a></li>
                
            
                
                
                    <li><a href="filters.html">Filters</a></li>
                
            
                
                
                    <li><a href="websockets.html">Websockets</a></li>
                
            
                
                
                    <li><a href="i18n-messages.html">Internationalization</a></li>
                
            
                
                
                    <li><a href="cache.html">Cache</a></li>
                
            
                
                
                    <li><a href="database.html">Database</a></li>
                
            
                
                
                    <li><a href="debug.html">Debugging</a></li>
                
            
                
                
                    <li><a href="/modules/testing.html">Testing</a></li>
                
            
        
            <li class="nav-header">Operational</li>
            
                
                
                    <li><a href="versions.html">Versions</a></li>
                
            
                
                
                    <li><a href="logging.html">Logging</a></li>
                
            
                
                
                    <li><a href="deployment.html">Deployment</a></li>
                
            
        
            <li class="nav-header">Reference</li>
            
                
                
                    <li><a href="appconf.html">app.conf</a></li>
                
            
                
                
                    <li><a href="tool.html">revel cmd</a></li>
                
            
                
                
                    <li><a href="faq.html">FAQ</a></li>
                
            
        
    </ul>
</div>

            </div>

            <div class="col-md-9">
                <div class="page-header">
                    <a href="https://github.com/revel/revel.github.io/edit/master/manual/concepts.md" class="improve-page btn dbtn-info" target="_blank"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Improve Page</a>
                    <h1>Concepts</h1>
                </div>
                <div class="main">
                    <p><strong>Revel</strong> is almost a full stack web framework in the spirit of 
<a href="http://rubyonrails.org/">Rails</a> and <a href="http://www.playframework.org">Play!</a> frameworks.</p>

<ul>
  <li>Many  <em>proven</em> ideas are incorporated into the framework, its design and interface</li>
  <li>Also using <a href="https://golang.org/">golang</a>, it’s also hackable ;-)</li>
</ul>

<p>Revel attempts to make it easy to build web applications using the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">Model-View-Controller
(MVC)</a>
pattern by relying on conventions that require a certain structure in an
application.  In return, it is very light on <a href="appconf.html">configuration</a> 
and enables an extremely fast development cycle.</p>

<p>Revel is very customizable, you can plug in your own <a href="template-engine">template system</a>
or even a custom <a href="server-engine">http server engine</a>. It is the perfect middleware that
is designed to work out of the box and provide the ability to implement almost any application.</p>

<h2 id="mvc">MVC</h2>

<p>Here is a quick summary:</p>

<ul>
  <li><strong>Models</strong> are the essential data objects that describe your application domain.
 Models also contain domain-specific logic for querying and updating the data.</li>
  <li><strong>Views</strong> describe how data is presented and manipulated. In our case, this is
 the <a href="templates.html">template</a> that is used to <a href="results.html">present data</a> and controls to the user.</li>
  <li><strong>Controllers</strong> handle the request execution.  They perform the user’s desired
 action, they decide which View to display, and they prepare and provide the
 necessary data to the View for rendering.</li>
</ul>

<p>A detailed overview of the MVC approach is beyond the scope of this guide.</p>

<h2 id="revel-startup">Revel Startup</h2>
<p>An event model has been added to revel to make it easier to provide additional control
to the application. Events can be added by calling
<code class="highlighter-rouge">revel.AddInitEventHandler(func(event int, value interface{}) (r int) {})</code>
The event ID’s are called  in the following sequence
<img src="../img/Initialization.png" alt="Revel Startup Flow" style="width:100%" /></p>

<h2 id="the-life-of-a-request">The Life of a Request</h2>

<p>Below is an overview of the request processing framework:</p>

<p><img src="../img/RevelDesign.png" alt="Life of a Request Flow" style="width:100%" /></p>

<ul>
  <li>Revel contains a <a href="server-engine.html">Server Engine</a> interface. It allows a developer to build their own “engine” 
to communicate to the MVC architecture of Revel. By default a single Go http.Server gets created to handle http.Requests.</li>
  <li>A  <a href="controllers.html">revel.Controller</a> ( which is the context for the request) is populated and the request 
 is passed to the 
  <a href="filters.html">Filter chain</a>.</li>
  <li><a href="filters.html">Filters</a> are links in a request processing chain. They will
implement horizontal concerns like request logging, cookie policies,
authorization, etc.  Most of Revel’s built-in functionality are implemented as
<a href="filters.html">Filters</a>.</li>
  <li>Actions are the application-specific controller and method that process the input and
produce a <a href="results.html">Result</a>. An Action is defined as the controller name and method name. 
For example “App.Index” is an action</li>
</ul>

<h2 id="server-engine">Server Engine</h2>

<p>Revel allows the developer to build their own <a href="server-engine.html">Server Engine</a>. It comes with Go’s http.Server
out of the box which works great for building up your project. However in production you may need more control so
you can replace it (see modules/serverengine/fasthttp) or extend it (see modules/serverengine/newrelic).</p>

<p>Revel’s Server Engine can handle multiple go-routine
(lightweight thread) to process each incoming request.  The implication is that
your code is free to block, but it must handle concurrent request processing.</p>

<p>When a request is received (through the EngineInit.Callback) it is composed into a revel.Controller which is passed to the <a href="filters.html">Filter chain</a> for
processing and, upon completion, apply the <a href="results.html">result</a> to write the response.</p>

<p>By default, the GoEngine will be registered at the <code class="highlighter-rouge">"/"</code> url to receive all
incoming connections.  However, applications are free to override this behavior
– for example, they may want to use existing http.Handlers rather than
re-implementing them within the Revel framework.  See the <a href="faq.html">FAQ</a> for
more detail.</p>

<h2 id="filters">Filters</h2>

<p><a href="filters.html">Filters</a> implement most request processing functionality provided
by Revel. They have a simple interface that allows them to be nested.</p>

<p>The “Filter Chain” is an array of functions, each one invoking the next, until
the terminal filter stage invokes the action.  For example, one of the first
Filters in the chain is the <a href="https://godoc.org/github.com/revel/revel#RouterFilter">RouterFilter</a>, 
which decides which Action the request is meant for and creates that controller.</p>

<p>Overall, Filters and the Filter Chain are the equivalent of Rack.</p>

<h2 id="namespace-controllers-and-methods">Namespace, Controllers and Methods</h2>

<p>Each request invokes an <strong>action</strong>. An action is defined as the combination of a 
Controller Name and a Controller Method. For example “App.Index” is an action. An
action may also include a namespace like <code class="highlighter-rouge">static\App.Index</code> (<a href="namespace.html">Namespaces</a>
are used to prevent duplicate actions when using a module). This action 
handles the request and writes the response.</p>

<p>Good program practice would group related methods into one <a href="controllers.html"><strong>controllers</strong></a>.<br />
The <a href="https://godoc.org/github.com/revel/revel#Controller">Controller</a> type contains relevant
fields and methods and acts as the context for each request.</p>

<p>As part of handling the request, Revel instantiates an instance of a
<a href="https://godoc.org/github.com/revel/revel#Controller">Controller</a>, and it sets all of these properties on the embedded
<code class="highlighter-rouge">Controller</code>.  Revel does not share <code class="highlighter-rouge">Controller</code> instances between requests (but it will reuse them).</p>

<p>A <strong>Controller</strong> is any type that embeds <a href="https://godoc.org/github.com/revel/revel#Controller">*revel.Controller</a> (directly or indirectly).</p>

<figure class="highlight"><pre><code class="language-go" data-lang="go"><span class="k">type</span><span class="x"> </span><span class="n">MyAppController</span><span class="x"> </span><span class="k">struct</span><span class="x"> </span><span class="p">{</span><span class="x">
    </span><span class="o">*</span><span class="n">revel</span><span class="o">.</span><span class="n">Controller</span><span class="x">
</span><span class="p">}</span></code></pre></figure>

<p>A <strong>Action Method</strong> is any method on a <strong>Controller</strong> that meets the following criteria:</p>

<ul>
  <li>is exported</li>
  <li>returns a <a href="results.html">revel.Result</a></li>
</ul>

<p>For example:</p>

<figure class="highlight"><pre><code class="language-go" data-lang="go"><span class="k">func</span><span class="x"> </span><span class="p">(</span><span class="n">c</span><span class="x"> </span><span class="n">MyAppController</span><span class="p">)</span><span class="x"> </span><span class="n">ShowLogin</span><span class="p">(</span><span class="n">username</span><span class="x"> </span><span class="kt">string</span><span class="p">)</span><span class="x"> </span><span class="n">revel</span><span class="o">.</span><span class="n">Result</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="o">..</span><span class="x">
	</span><span class="k">return</span><span class="x"> </span><span class="n">c</span><span class="o">.</span><span class="n">Render</span><span class="p">(</span><span class="n">username</span><span class="p">)</span><span class="x">
</span><span class="p">}</span></code></pre></figure>

<p>The example invokes <code class="highlighter-rouge">Controller.Render()</code> to execute a <a href="templates.html">template</a>, passing it the
username as a parameter.  There are many methods on a 
<a href="https://godoc.org/github.com/revel/revel#Controller">Controller</a> that
produce <a href="https://godoc.org/github.com/revel/revel#Result">Result</a>; 
but applications are also free to <a href="results.html#CustomResult">create their own custom result</a>.</p>

<h2 id="results">Results</h2>

<p>A Result is anything conforming to the interface:</p>

<figure class="highlight"><pre><code class="language-go" data-lang="go"><span class="k">type</span><span class="x"> </span><span class="n">Result</span><span class="x"> </span><span class="k">interface</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="n">Apply</span><span class="p">(</span><span class="n">req</span><span class="x"> </span><span class="o">*</span><span class="n">Request</span><span class="p">,</span><span class="x"> </span><span class="n">resp</span><span class="x"> </span><span class="o">*</span><span class="n">Response</span><span class="p">)</span><span class="x">
</span><span class="p">}</span></code></pre></figure>

<p>Typically, nothing is written to the response until the <strong>action</strong> and all
<a href="filters.html">filters</a> have returned.  At that point, Revel writes response headers and cookies
(e.g. setting the <a href="sessionflash.html">session</a> cookie), and then invokes <code class="highlighter-rouge">Result.Apply</code> to write the
actual response content.</p>

                    


                    


                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; Revel Team 2017 - Revel is released under the <a href="https://github.com/revel/revel/blob/master/LICENSE">MIT License</a></p>
        </footer>
    </div>
</body>
</html>

